"use strict";window.load=function(e,t){var r=new XMLHttpRequest;r.open("GET","https://rawgit.com/Varinetz/e6cbadec972e76a340c41a65fcc2a6b3/raw/90191826a3bac2ff0761040ed1d95c59f14eaf26/frontend_test_table.json"),r.addEventListener("load",function(n){200===r.status?e(JSON.parse(r.responseText)):t("Ошибка загрузки данных: статус "+r.status+" "+r.statusText)}),r.addEventListener("error",function(e){t("Произошла ошибка соединения")}),r.addEventListener("timeout",function(e){t("Запрос не успел выполниться за "+r.timeout+" мс")}),r.timeout=1e4,r.send()},function(){var e=document.querySelector("#table-order-car"),t=document.querySelector("#template-order-car").content,r=function(e){var r=function(e){switch(e){case"pednding":return"Ожидается";case"out_of_stock":return"Нет в наличии";case"in_stock":return"В наличии";default:return"Нет в наличии"}}(e.status),n=t.cloneNode(!0),o=n.querySelector(".table__item");return n.querySelector(".table__item-value--title").textContent=e.title,n.querySelector(".table__item-value--description").textContent=e.description,n.querySelector(".table__item-value--description-mobile").textContent=e.description,n.querySelector(".table__item-value--year").textContent=e.year,n.querySelector(".indication-circle").classList.add("indication-circle--"+e.color),n.querySelector(".table__item-value--status").textContent=r,n.querySelector(".table__item-value--price").textContent=e.price+" руб.",n.querySelector(".btn--delete").addEventListener("click",function(e){o.remove()}),n},n=function(){var e=document.querySelector(".form"),t=e.querySelector("#input-name"),r=e.querySelector("#input-year"),n=e.querySelector("#input-price"),o=e.querySelector("#input-description"),a=e.querySelectorAll('.form__input-radio[name="color"]'),c=e.querySelector("#select-status");return orderCarLastID++,{id:orderCarLastID,title:t.value,description:o.value,year:r.value,color:function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(a).value,status:c.value,price:n.value}};document.querySelector(".btn--submit").addEventListener("click",function(t){var o=document.createDocumentFragment(),a=n();o.appendChild(r(a)),e.appendChild(o),t.preventDefault()}),load(function(t){window.orderCarLastID=t.length;for(var n=document.createDocumentFragment(),o=0;o<t.length;o++)n.appendChild(r(t[o]));e.appendChild(n)},function(e){var t=document.createElement("div");t.classList.add("error-message"),t.textContent=e,document.body.insertAdjacentElement("afterbegin",t)})}();
//# sourceMappingURL=script.min.js.map
